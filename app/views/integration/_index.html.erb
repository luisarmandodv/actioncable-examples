<% 
login_data = {
  "cable_auth": {
    "user_id": 3659211,
    "encrypted_data": "9ludflERL6jWGf9g5nRPlyJ6OZnLlE03M9J+aoMTYjuBMpApiBFFHO90R85n\nSlow7RH1Hl0689aVD4jaJFV3/1bUpEG/OXyvmesrLQaLWl4=\n"
  },
  "epic_account": "9/nq1cpcX0KuYhX4w5sdcZblCRgj4ZHlQDvVdd5+OJs=\n",
  "current_beanstack_profile_id": 5604822
}

sync_data = {
  "epic_raw_cookie_string": "__cfduid=dae0000000000000000000000000000000000000000; expires=Thu, 12-Nov-20 16:52:08 GMT; path=/; domain=.getepic.com; HttpOnly; SameSite=Lax, PHPSESSID=f9m00000000000000000000000; path=/; domain=.getepic.com, PHPSESSID=f9m00000000000000000000000; expires=Fri, 23-Oct-2020 16:52:08 GMT; Max-Age=864000; path=/; samesite=strict; domain=.getepic.com; secure; HttpOnly",
  "current_beanstack_profile_id": "5604822",
  "readers_to_sync": { # This could be an array if you prefer; the HTML just made this into a hash so that's why it's a hash here.
    "0": {
      "epic_id": "83000000",
      "epic_name": "Guest",
      "beanstack_profile_id": "-1"
    },
    "1": {
      "epic_id": "100000000",
      "epic_name": "Shailyn F.",
      "beanstack_profile_id": "-1"
    },
    "2": {
      "epic_id": "100000000",
      "epic_name": "Claire H.",
      "beanstack_profile_id": "-1"
    },
    "3": {
      "epic_id": "100000000",
      "epic_name": "Rylie B.",
      "beanstack_profile_id": "-1"
    }
  }
}
%>

<h1>Message#index</h1>

<input id='message' />
<button onClick='sendMessage()'>Send message</button>

<h2>login_and_fetch_readers:</h2>
<p>This is the actual cable you'd call.</p>
<tt>
<%= get_schwifty "integration#login_and_fetch_readers", login_data do %>

Loading :D

<%- end %>
</tt>

<h2>sync_readers:</h2>
<p>This is the actual cable you'd call.</p>
<tt>
<%= get_schwifty "integration#sync_readers", sync_data do %>

Loading :D

<%- end %>
</tt>

<h2>sync_readers_success_no_earned_badges:</h2>
<tt>
<%= get_schwifty "integration#sync_readers_success_no_earned_badges", sync_data do %>

Loading :D

<%- end %>
</tt>

<hr>

<font color="#aaa">

<h2>login_fail:</h2>
<tt>
<%= get_schwifty "integration#login_fail", login_data do %>

Loading :D

<%- end %>
</tt>


<h2>login_reader_list_fail_name:</h2>
<tt>
<%= get_schwifty "integration#login_reader_list_fail_name", login_data do %>

Loading :D

<%- end %>
</tt>


<h2>sync_readers_fail_locked:</h2>
<tt>
<%= get_schwifty "integration#sync_readers_fail_locked", sync_data do %>

Loading :D

<%- end %>
</tt>





<%= javascript_tag do %>
  (function() {
    setTimeout(function() {
      console.log('go');
      GetSchwifty(App).showMeWhatYouGot();
    }, 2000);
  }())
<%end%> 